@page "/logout"
@inject AuthenticationStateProvider AuthStateProvider
@inject NavigationManager Navigation
@inject HttpClient Http

<RadzenProgressBar Value="100" ShowValue="false" Mode="ProgressBarMode.Indeterminate" />
<RadzenText TextStyle="TextStyle.Body1" Class="rz-text-align-center rz-mt-4">Kijelentkezés folyamatban...</RadzenText>

@code {
    protected override async Task OnInitializedAsync()
    {
        try
        {
            
            await Http.PostAsync("api/user/logout", null);
        }
        catch (Exception) { }

       
        if (AuthStateProvider is CustomAuthenticationStateProvider customAuthProvider)
        {
            await customAuthProvider.LogoutAsync();
        }

       
        Navigation.NavigateTo("/login", forceLoad: true);
    }
}