@inherits LayoutComponentBase
@inject NavigationManager Navigation
@using Radzen
@using Radzen.Blazor

<RadzenComponents />
<div class="ambient-glow"></div>

<RadzenLayout Style="height: 100vh; background: transparent;">

    <RadzenHeader Style="height: 70px; padding: 0 1rem; background: transparent; border-bottom: 1px solid rgba(255,255,255,0.05); backdrop-filter: blur(5px);">
        <RadzenStack Orientation="Orientation.Horizontal" AlignItems="AlignItems.Center" Gap="1rem" Style="height: 100%;">
            <RadzenSidebarToggle Click="@(() => sidebarExpanded = !sidebarExpanded)" Style="background: transparent; color: white;" />

            <RadzenStack Orientation="Orientation.Horizontal" Gap="0.5rem" AlignItems="AlignItems.Center">
                <div style="width: 32px; height: 32px; background: linear-gradient(135deg, #8b5cf6, #6366f1); border-radius: 8px; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 10px rgba(139, 92, 246, 0.5);">
                    <RadzenIcon Icon="pie_chart" Style="color: white; font-size: 1.2rem;" />
                </div>
                <span class="text-gradient" style="font-weight: 800; font-size: 1.3rem; letter-spacing: -0.5px;">XTRACT</span>
            </RadzenStack>
        </RadzenStack>
    </RadzenHeader>

    <RadzenSidebar @bind-Expanded="@sidebarExpanded" Style="width: 260px; z-index: 100;">
        <RadzenStack Class="rz-py-4" Gap="0">
            <RadzenText TextStyle="TextStyle.Caption" Style="padding-left: 1.5rem; margin-bottom: 1rem; color: var(--text-secondary); font-weight: 700; letter-spacing: 1px;">MENU</RadzenText>

            <RadzenPanelMenu Multiple="false">
                <RadzenPanelMenuItem Text="Dashboard" Path="dashboard" Icon="dashboard" />
                <RadzenPanelMenuItem Text="Transactions" Path="transactions" Icon="receipt_long" />
                <RadzenPanelMenuItem Text="Categories" Path="categories" Icon="category" />
                <RadzenPanelMenuItem Text="Budget Plan" Path="budget" Icon="account_balance_wallet" />
                <RadzenPanelMenuItem Text="Statistics" Path="statistics" Icon="query_stats" />
                <RadzenPanelMenuItem Text="Shopping List" Path="shopping" Icon="shopping_basket" />

                <div style="margin: 1.5rem 1.5rem; border-top: 1px solid rgba(255,255,255,0.1);"></div>

                <RadzenPanelMenuItem Text="Log Out" Path="logout" Icon="logout" Style="color: #ef4444;" />
            </RadzenPanelMenu>
        </RadzenStack>
    </RadzenSidebar>

    <RadzenBody Style="background: transparent; padding: 0;">
        <div class="rz-p-4 rz-p-lg-5" style="max-width: 1400px; margin: 0 auto; min-height: 100%;">
            @Body
        </div>
    </RadzenBody>
</RadzenLayout>

@code {
    bool sidebarExpanded = true;
}